(device
    (name STM32F3x)
    (size 0x20)
    (description "STM32F3x")
    (regions
        (region 
            (name SRAM)
            (type SRAM)
            (offset 0x20000000)
            (size   0x00002000)
        )
        (region
            (name FLASH)
            (type FLASH)
            (offset 0x08000000)
            (size 0x00004000)
        )
    )
    (clock (name XTAL0))
    (crate
        (name bobbin_cortexm)
        (module (name chip::exc))
        (module (name chip::nvic))
        (module (name chip::scb))
        (module (name chip::systick))
        (module (name chip::mpu))
        (module (name chip::fpu))
    )
    (crate (name stm32_common))
    (peripheral-group
        (name GPIO)
        (module (name stm32_common::chip::gpio::*))
        (peripheral 
            (name GPIOA)
            (address 0x50000000)
        )
        (peripheral
            (name GPIOB)
            (address 0x50000400)
        )    
    )
    (peripheral-group
        (name USART)
        (peripheral
            (name USART2)
            (signal (name USART2_CTS))
            (signal (name USART2_RTS))
            (signal (name USART2_TX))
            (signal (name USART2_RX))
            (signal (name USART2_CK))
        )
    )
    (port-group (name PORTA)
        (port (name PA0)
            (altfn 1 LPTIM1_IN1)
            (altfn 2 TIM2_CH1)
            (altfn 4 USART2_CTS)
            (altfn 5 TIM2_ETR)
            (altfn 7 COMP1_OUT)
        )
        (port (name PA1)
            (altfn 0 EVENTOUT)
            (altfn 1 LPTIM1_IN2)
            (altfn 2 TIM2_CH2)
            (altfn 3 I2C1_SMBA)
            (altfn 4 USART2_RTS)
            (altfn 5 TIM21_ETR)                
        )
    )
)