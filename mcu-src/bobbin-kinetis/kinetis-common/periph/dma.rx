(peripheral
    (group-name DMA)
    (register
        (name SAR)
        (dim 4)
        (dim-increment 0x10)
        (offset 0x100)
        (size 0x20)
        (access read-write)
        (reset-value 0x0)
        (reset-mask 0xffffffff)
        (description "Source Address Register")
        (field
            (name SAR)
            (bit-offset 0)
            (bit-width 32)
            (access read-write)
            (description "Each SAR contains the byte address used by the DMA controller to read data")
        )
    )
    (register
        (name DAR)
        (dim 4)
        (dim-increment 0x10)        
        (offset 0x104)
        (size 0x20)
        (access read-write)
        (reset-value 0x0)
        (reset-mask 0xffffffff)
        (description "Destination Address Register")
        (field
            (name DAR)
            (bit-offset 0)
            (bit-width 32)
            (access read-write)
            (description "Each DAR contains the byte address used by the DMA controller to write data")
        )
    )
    (register
        (name DSR_BCR)
        (dim 4)
        (dim-increment 0x10)        
        (offset 0x108)
        (size 0x20)
        (access read-write)
        (reset-value 0x0)
        (reset-mask 0xffffffff)
        (description "DMA Status Register / Byte Count Register")
        (field
            (name BCR)
            (bit-offset 0)
            (bit-width 24)
            (access read-write)
            (description "This field contains the number of bytes yet to be transferred for a given block")
        )
        (field
            (name DONE)
            (bit-offset 24)
            (bit-width 1)
            (access read-write)
            (description "Transactions Done")
            (value
                (value "#0")
                (name "0")
                (description "DMA transfer is not yet complete. Writing a 0 has no effect.")
            )
            (value
                (value "#1")
                (name "1")
                (description "DMA transfer completed. Writing a 1 to this bit clears all DMA status bits and should be used in an interrupt service routine to clear the DMA interrupt and error bits.")
            )
        )
        (field
            (name BSY)
            (bit-offset 25)
            (bit-width 1)
            (access read-only)
            (description "Busy")
            (value
                (value "#0")
                (name "0")
                (description "DMA channel is inactive. Cleared when the DMA has finished the last transaction.")
            )
            (value
                (value "#1")
                (name "1")
                (description "BSY is set the first time the channel is enabled after a transfer is initiated.")
            )
        )
        (field
            (name REQ)
            (bit-offset 26)
            (bit-width 1)
            (access read-only)
            (description "Request")
            (value
                (value "#0")
                (name "0")
                (description "No request is pending or the channel is currently active. Cleared when the channel is selected.")
            )
            (value
                (value "#1")
                (name "1")
                (description "The DMA channel has a transfer remaining and the channel is not selected.")
            )
        )
        (field
            (name BED)
            (bit-offset 28)
            (bit-width 1)
            (access read-only)
            (description "Bus Error on Destination")
            (value
                (value "#0")
                (name "0")
                (description "No bus error occurred.")
            )
            (value
                (value "#1")
                (name "1")
                (description "The DMA channel terminated with a bus error during the write portion of a transfer.")
            )
        )
        (field
            (name BES)
            (bit-offset 29)
            (bit-width 1)
            (access read-only)
            (description "Bus Error on Source")
            (value
                (value "#0")
                (name "0")
                (description "No bus error occurred.")
            )
            (value
                (value "#1")
                (name "1")
                (description "The DMA channel terminated with a bus error during the read portion of a transfer.")
            )
        )
        (field
            (name CE)
            (bit-offset 30)
            (bit-width 1)
            (access read-only)
            (description "Configuration Error")
            (value
                (value "#0")
                (name "0")
                (description "No configuration error exists.")
            )
            (value
                (value "#1")
                (name "1")
                (description "A configuration error has occurred.")
            )
        )
    )
    (register
        (name DSR)
        (dim 4)
        (dim-increment 0x10)       
        (offset 0x10b)
        (size 0x8)
        (access read-write)
        (reset-value 0x0)
        (reset-mask 0xff)
        (description "DMA_DSR0 register.")
    )
    (register
        (name DCR)
        (dim 4)
        (dim-increment 0x10)       
        (offset 0x10c)
        (size 0x20)
        (access read-write)
        (reset-value 0x0)
        (reset-mask 0xffffffff)
        (description "DMA Control Register")
        (field
            (name LCH2)
            (bit-offset 0)
            (bit-width 2)
            (access read-write)
            (description "Link Channel 2")
            (value
                (value "#00")
                (name "00")
                (description "DMA Channel 0")
            )
            (value
                (value "#01")
                (name "01")
                (description "DMA Channel 1")
            )
            (value
                (value "#10")
                (name "10")
                (description "DMA Channel 2")
            )
            (value
                (value "#11")
                (name "11")
                (description "DMA Channel 3")
            )
        )
        (field
            (name LCH1)
            (bit-offset 2)
            (bit-width 2)
            (access read-write)
            (description "Link Channel 1")
            (value
                (value "#00")
                (name "00")
                (description "DMA Channel 0")
            )
            (value
                (value "#01")
                (name "01")
                (description "DMA Channel 1")
            )
            (value
                (value "#10")
                (name "10")
                (description "DMA Channel 2")
            )
            (value
                (value "#11")
                (name "11")
                (description "DMA Channel 3")
            )
        )
        (field
            (name LINKCC)
            (bit-offset 4)
            (bit-width 2)
            (access read-write)
            (description "Link Channel Control")
            (value
                (value "#00")
                (name "00")
                (description "No channel-to-channel linking")
            )
            (value
                (value "#01")
                (name "01")
                (description "Perform a link to channel LCH1 after each cycle-steal transfer followed by a link to LCH2 after the BCR decrements to 0.")
            )
            (value
                (value "#10")
                (name "10")
                (description "Perform a link to channel LCH1 after each cycle-steal transfer")
            )
            (value
                (value "#11")
                (name "11")
                (description "Perform a link to channel LCH1 after the BCR decrements to 0.")
            )
        )
        (field
            (name D_REQ)
            (bit-offset 7)
            (bit-width 1)
            (access read-write)
            (description "Disable Request")
            (value
                (value "#0")
                (name "0")
                (description "ERQ bit is not affected.")
            )
            (value
                (value "#1")
                (name "1")
                (description "ERQ bit is cleared when the BCR is exhausted.")
            )
        )
        (field
            (name DMOD)
            (bit-offset 8)
            (bit-width 4)
            (access read-write)
            (description "Destination Address Modulo")
            (value
                (value "#0000")
                (name "0000")
                (description "Buffer disabled")
            )
            (value
                (value "#0001")
                (name "0001")
                (description "Circular buffer size is 16 bytes")
            )
            (value
                (value "#0010")
                (name "0010")
                (description "Circular buffer size is 32 bytes")
            )
            (value
                (value "#0011")
                (name "0011")
                (description "Circular buffer size is 64 bytes")
            )
            (value
                (value "#0100")
                (name "0100")
                (description "Circular buffer size is 128 bytes")
            )
            (value
                (value "#0101")
                (name "0101")
                (description "Circular buffer size is 256 bytes")
            )
            (value
                (value "#0110")
                (name "0110")
                (description "Circular buffer size is 512 bytes")
            )
            (value
                (value "#0111")
                (name "0111")
                (description "Circular buffer size is 1 KB")
            )
            (value
                (value "#1000")
                (name "1000")
                (description "Circular buffer size is 2 KB")
            )
            (value
                (value "#1001")
                (name "1001")
                (description "Circular buffer size is 4 KB")
            )
            (value
                (value "#1010")
                (name "1010")
                (description "Circular buffer size is 8 KB")
            )
            (value
                (value "#1011")
                (name "1011")
                (description "Circular buffer size is 16 KB")
            )
            (value
                (value "#1100")
                (name "1100")
                (description "Circular buffer size is 32 KB")
            )
            (value
                (value "#1101")
                (name "1101")
                (description "Circular buffer size is 64 KB")
            )
            (value
                (value "#1110")
                (name "1110")
                (description "Circular buffer size is 128 KB")
            )
            (value
                (value "#1111")
                (name "1111")
                (description "Circular buffer size is 256 KB")
            )
        )
        (field
            (name SMOD)
            (bit-offset 12)
            (bit-width 4)
            (access read-write)
            (description "Source Address Modulo")
            (value
                (value "#0000")
                (name "0000")
                (description "Buffer disabled")
            )
            (value
                (value "#0001")
                (name "0001")
                (description "Circular buffer size is 16 bytes.")
            )
            (value
                (value "#0010")
                (name "0010")
                (description "Circular buffer size is 32 bytes.")
            )
            (value
                (value "#0011")
                (name "0011")
                (description "Circular buffer size is 64 bytes.")
            )
            (value
                (value "#0100")
                (name "0100")
                (description "Circular buffer size is 128 bytes.")
            )
            (value
                (value "#0101")
                (name "0101")
                (description "Circular buffer size is 256 bytes.")
            )
            (value
                (value "#0110")
                (name "0110")
                (description "Circular buffer size is 512 bytes.")
            )
            (value
                (value "#0111")
                (name "0111")
                (description "Circular buffer size is 1 KB.")
            )
            (value
                (value "#1000")
                (name "1000")
                (description "Circular buffer size is 2 KB.")
            )
            (value
                (value "#1001")
                (name "1001")
                (description "Circular buffer size is 4 KB.")
            )
            (value
                (value "#1010")
                (name "1010")
                (description "Circular buffer size is 8 KB.")
            )
            (value
                (value "#1011")
                (name "1011")
                (description "Circular buffer size is 16 KB.")
            )
            (value
                (value "#1100")
                (name "1100")
                (description "Circular buffer size is 32 KB.")
            )
            (value
                (value "#1101")
                (name "1101")
                (description "Circular buffer size is 64 KB.")
            )
            (value
                (value "#1110")
                (name "1110")
                (description "Circular buffer size is 128 KB.")
            )
            (value
                (value "#1111")
                (name "1111")
                (description "Circular buffer size is 256 KB.")
            )
        )
        (field
            (name START)
            (bit-offset 16)
            (bit-width 1)
            (access write-only)
            (description "Start Transfer")
            (value
                (value "#0")
                (name "0")
                (description "DMA inactive")
            )
            (value
                (value "#1")
                (name "1")
                (description "The DMA begins the transfer in accordance to the values in the TCDn. START is cleared automatically after one module clock and always reads as logic 0.")
            )
        )
        (field
            (name DSIZE)
            (bit-offset 17)
            (bit-width 2)
            (access read-write)
            (description "Destination Size")
            (value
                (value "#00")
                (name "00")
                (description "32-bit")
            )
            (value
                (value "#01")
                (name "01")
                (description "8-bit")
            )
            (value
                (value "#10")
                (name "10")
                (description "16-bit")
            )
            (value
                (value "#11")
                (name "11")
                (description "Reserved (generates a configuration error (DSRn[CE]) if incorrectly specified at time of channel activation)")
            )
        )
        (field
            (name DINC)
            (bit-offset 19)
            (bit-width 1)
            (access read-write)
            (description "Destination Increment")
            (value
                (value "#0")
                (name "0")
                (description "No change to the DAR after a successful transfer.")
            )
            (value
                (value "#1")
                (name "1")
                (description "The DAR increments by 1, 2, 4 depending upon the size of the transfer.")
            )
        )
        (field
            (name SSIZE)
            (bit-offset 20)
            (bit-width 2)
            (access read-write)
            (description "Source Size")
            (value
                (value "#00")
                (name "00")
                (description "32-bit")
            )
            (value
                (value "#01")
                (name "01")
                (description "8-bit")
            )
            (value
                (value "#10")
                (name "10")
                (description "16-bit")
            )
            (value
                (value "#11")
                (name "11")
                (description "Reserved (generates a configuration error (DSRn[CE]) if incorrectly specified at time of channel activation)")
            )
        )
        (field
            (name SINC)
            (bit-offset 22)
            (bit-width 1)
            (access read-write)
            (description "Source Increment")
            (value
                (value "#0")
                (name "0")
                (description "No change to SAR after a successful transfer.")
            )
            (value
                (value "#1")
                (name "1")
                (description "The SAR increments by 1, 2, 4 as determined by the transfer size.")
            )
        )
        (field
            (name EADREQ)
            (bit-offset 23)
            (bit-width 1)
            (access read-write)
            (description "Enable asynchronous DMA requests")
            (value
                (value "#0")
                (name "0")
                (description "Disabled")
            )
            (value
                (value "#1")
                (name "1")
                (description "Enabled")
            )
        )
        (field
            (name AA)
            (bit-offset 28)
            (bit-width 1)
            (access read-write)
            (description "Auto-align")
            (value
                (value "#0")
                (name "0")
                (description "Auto-align disabled")
            )
            (value
                (value "#1")
                (name "1")
                (description "If SSIZE indicates a transfer no smaller than DSIZE, source accesses are auto-aligned; otherwise, destination accesses are auto-aligned. Source alignment takes precedence over destination alignment. If auto-alignment is enabled, the appropriate address register increments, regardless of DINC or SINC.")
            )
        )
        (field
            (name CS)
            (bit-offset 29)
            (bit-width 1)
            (access read-write)
            (description "Cycle Steal")
            (value
                (value "#0")
                (name "0")
                (description "DMA continuously makes read/write transfers until the BCR decrements to 0.")
            )
            (value
                (value "#1")
                (name "1")
                (description "Forces a single read/write transfer per request.")
            )
        )
        (field
            (name ERQ)
            (bit-offset 30)
            (bit-width 1)
            (access read-write)
            (description "Enable Peripheral Request")
            (value
                (value "#0")
                (name "0")
                (description "Peripheral request is ignored.")
            )
            (value
                (value "#1")
                (name "1")
                (description "Enables peripheral request to initiate transfer. A software-initiated request (setting START) is always enabled.")
            )
        )
        (field
            (name EINT)
            (bit-offset 31)
            (bit-width 1)
            (access read-write)
            (description "Enable Interrupt on Completion of Transfer")
            (value
                (value "#0")
                (name "0")
                (description "No interrupt is generated.")
            )
            (value
                (value "#1")
                (name "1")
                (description "Interrupt signal is enabled.")
            )
        )
    )
)