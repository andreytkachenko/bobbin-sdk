(peripheral
    (group-name FLASH)
    (name FLASH)
    (address 0x40022000)
    (description "Flash")
    (interrupt
        (name FLASH)
        (value 4)
        (description "Flash global interrupt")
    )
    (register
        (name ACR)
        (offset 0x0)
        (size 0x20)
        (access read-write)
        (reset-value 0x600)
        (description "Access control register")
        (field
            (name LATENCY)
            (bit-offset 0)
            (bit-width 3)
            (description "Latency")
        )
        (field
            (name PRFTEN)
            (bit-offset 8)
            (bit-width 1)
            (description "Prefetch enable")
        )
        (field
            (name ICEN)
            (bit-offset 9)
            (bit-width 1)
            (description "Instruction cache enable")
        )
        (field
            (name DCEN)
            (bit-offset 10)
            (bit-width 1)
            (description "Data cache enable")
        )
        (field
            (name ICRST)
            (bit-offset 11)
            (bit-width 1)
            (description "Instruction cache reset")
        )
        (field
            (name DCRST)
            (bit-offset 12)
            (bit-width 1)
            (description "Data cache reset")
        )
        (field
            (name RUN_PD)
            (bit-offset 13)
            (bit-width 1)
            (description "Flash Power-down mode during Low-power run mode")
        )
        (field
            (name SLEEP_PD)
            (bit-offset 14)
            (bit-width 1)
            (description "Flash Power-down mode during Low-power sleep mode")
        )
    )
    (register
        (name PDKEYR)
        (offset 0x4)
        (size 0x20)
        (access write-only)
        (reset-value 0x0)
        (description "Power down key register")
        (field
            (name PDKEYR)
            (bit-offset 0)
            (bit-width 32)
            (description "RUN_PD in FLASH_ACR key")
        )
    )
    (register
        (name KEYR)
        (offset 0x8)
        (size 0x20)
        (access write-only)
        (reset-value 0x0)
        (description "Flash key register")
        (field
            (name KEYR)
            (bit-offset 0)
            (bit-width 32)
            (description "KEYR")
        )
    )
    (register
        (name OPTKEYR)
        (offset 0xc)
        (size 0x20)
        (access write-only)
        (reset-value 0x0)
        (description "Option byte key register")
        (field
            (name OPTKEYR)
            (bit-offset 0)
            (bit-width 32)
            (description "Option byte key")
        )
    )
    (register
        (name SR)
        (offset 0x10)
        (size 0x20)
        (reset-value 0x0)
        (description "Status register")
        (field
            (name EOP)
            (bit-offset 0)
            (bit-width 1)
            (access read-write)
            (description "End of operation")
        )
        (field
            (name OPERR)
            (bit-offset 1)
            (bit-width 1)
            (access read-write)
            (description "Operation error")
        )
        (field
            (name PROGERR)
            (bit-offset 3)
            (bit-width 1)
            (access read-write)
            (description "Programming error")
        )
        (field
            (name WRPERR)
            (bit-offset 4)
            (bit-width 1)
            (access read-write)
            (description "Write protected error")
        )
        (field
            (name PGAERR)
            (bit-offset 5)
            (bit-width 1)
            (access read-write)
            (description "Programming alignment error")
        )
        (field
            (name SIZERR)
            (bit-offset 6)
            (bit-width 1)
            (access read-write)
            (description "Size error")
        )
        (field
            (name PGSERR)
            (bit-offset 7)
            (bit-width 1)
            (access read-write)
            (description "Programming sequence error")
        )
        (field
            (name MISERR)
            (bit-offset 8)
            (bit-width 1)
            (access read-write)
            (description "Fast programming data miss error")
        )
        (field
            (name FASTERR)
            (bit-offset 9)
            (bit-width 1)
            (access read-write)
            (description "Fast programming error")
        )
        (field
            (name RDERR)
            (bit-offset 14)
            (bit-width 1)
            (access read-write)
            (description "PCROP read error")
        )
        (field
            (name OPTVERR)
            (bit-offset 15)
            (bit-width 1)
            (access read-write)
            (description "Option validity error")
        )
        (field
            (name BSY)
            (bit-offset 16)
            (bit-width 1)
            (access read-only)
            (description "Busy")
        )
    )
    (register
        (name CR)
        (offset 0x14)
        (size 0x20)
        (access read-write)
        (reset-value 0xc0000000)
        (description "Flash control register")
        (field
            (name PG)
            (bit-offset 0)
            (bit-width 1)
            (description "Programming")
        )
        (field
            (name PER)
            (bit-offset 1)
            (bit-width 1)
            (description "Page erase")
        )
        (field
            (name MER1)
            (bit-offset 2)
            (bit-width 1)
            (description "Bank 1 Mass erase")
        )
        (field
            (name PNB)
            (bit-offset 3)
            (bit-width 8)
            (description "Page number")
        )
        (field
            (name BKER)
            (bit-offset 11)
            (bit-width 1)
            (description "Bank erase")
        )
        (field
            (name MER2)
            (bit-offset 15)
            (bit-width 1)
            (description "Bank 2 Mass erase")
        )
        (field
            (name START)
            (bit-offset 16)
            (bit-width 1)
            (description "Start")
        )
        (field
            (name OPTSTRT)
            (bit-offset 17)
            (bit-width 1)
            (description "Options modification start")
        )
        (field
            (name FSTPG)
            (bit-offset 18)
            (bit-width 1)
            (description "Fast programming")
        )
        (field
            (name EOPIE)
            (bit-offset 24)
            (bit-width 1)
            (description "End of operation interrupt enable")
        )
        (field
            (name ERRIE)
            (bit-offset 25)
            (bit-width 1)
            (description "Error interrupt enable")
        )
        (field
            (name RDERRIE)
            (bit-offset 26)
            (bit-width 1)
            (description "PCROP read error interrupt enable")
        )
        (field
            (name OBL_LAUNCH)
            (bit-offset 27)
            (bit-width 1)
            (description "Force the option byte loading")
        )
        (field
            (name OPTLOCK)
            (bit-offset 30)
            (bit-width 1)
            (description "Options Lock")
        )
        (field
            (name LOCK)
            (bit-offset 31)
            (bit-width 1)
            (description "FLASH_CR Lock")
        )
    )
    (register
        (name ECCR)
        (offset 0x18)
        (size 0x20)
        (reset-value 0x0)
        (description "Flash ECC register")
        (field
            (name ADDR_ECC)
            (bit-offset 0)
            (bit-width 19)
            (access read-only)
            (description "ECC fail address")
        )
        (field
            (name BK_ECC)
            (bit-offset 19)
            (bit-width 1)
            (access read-only)
            (description "ECC fail bank")
        )
        (field
            (name SYSF_ECC)
            (bit-offset 20)
            (bit-width 1)
            (access read-only)
            (description "System Flash ECC fail")
        )
        (field
            (name ECCIE)
            (bit-offset 24)
            (bit-width 1)
            (access read-write)
            (description "ECC correction interrupt enable")
        )
        (field
            (name ECCC)
            (bit-offset 30)
            (bit-width 1)
            (access read-write)
            (description "ECC correction")
        )
        (field
            (name ECCD)
            (bit-offset 31)
            (bit-width 1)
            (access read-write)
            (description "ECC detection")
        )
    )
    (register
        (name OPTR)
        (offset 0x20)
        (size 0x20)
        (access read-write)
        (reset-value 0xf0000000)
        (description "Flash option register")
        (field
            (name RDP)
            (bit-offset 0)
            (bit-width 8)
            (description "Read protection level")
        )
        (field
            (name BOR_LEV)
            (bit-offset 8)
            (bit-width 3)
            (description "BOR reset Level")
        )
        (field
            (name nRST_STOP)
            (bit-offset 12)
            (bit-width 1)
            (description "nRST_STOP")
        )
        (field
            (name nRST_STDBY)
            (bit-offset 13)
            (bit-width 1)
            (description "nRST_STDBY")
        )
        (field
            (name IDWG_SW)
            (bit-offset 16)
            (bit-width 1)
            (description "Independent watchdog selection")
        )
        (field
            (name IWDG_STOP)
            (bit-offset 17)
            (bit-width 1)
            (description "Independent watchdog counter freeze in Stop mode")
        )
        (field
            (name IWDG_STDBY)
            (bit-offset 18)
            (bit-width 1)
            (description "Independent watchdog counter freeze in Standby mode")
        )
        (field
            (name WWDG_SW)
            (bit-offset 19)
            (bit-width 1)
            (description "Window watchdog selection")
        )
        (field
            (name BFB2)
            (bit-offset 20)
            (bit-width 1)
            (description "Dual-bank boot")
        )
        (field
            (name DUALBANK)
            (bit-offset 21)
            (bit-width 1)
            (description "Dual-Bank on 512 KB or 256 KB Flash memory devices")
        )
        (field
            (name nBOOT1)
            (bit-offset 23)
            (bit-width 1)
            (description "Boot configuration")
        )
        (field
            (name SRAM2_PE)
            (bit-offset 24)
            (bit-width 1)
            (description "SRAM2 parity check enable")
        )
        (field
            (name SRAM2_RST)
            (bit-offset 25)
            (bit-width 1)
            (description "SRAM2 Erase when system reset")
        )
    )
    (register
        (name PCROP1SR)
        (offset 0x24)
        (size 0x20)
        (access read-write)
        (reset-value 0xffff0000)
        (description "Flash Bank 1 PCROP Start address register")
        (field
            (name PCROP1_STRT)
            (bit-offset 0)
            (bit-width 16)
            (description "Bank 1 PCROP area start offset")
        )
    )
    (register
        (name PCROP1ER)
        (offset 0x28)
        (size 0x20)
        (access read-write)
        (reset-value 0xfff0000)
        (description "Flash Bank 1 PCROP End address register")
        (field
            (name PCROP1_END)
            (bit-offset 0)
            (bit-width 16)
            (description "Bank 1 PCROP area end offset")
        )
        (field
            (name PCROP_RDP)
            (bit-offset 31)
            (bit-width 1)
            (description "PCROP area preserved when RDP level decreased")
        )
    )
    (register
        (name WRP1AR)
        (offset 0x2c)
        (size 0x20)
        (access read-write)
        (reset-value 0xff00ff00)
        (description "Flash Bank 1 WRP area A address register")
        (field
            (name WRP1A_STRT)
            (bit-offset 0)
            (bit-width 8)
            (description "Bank 1 WRP first area ÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¢ÃƒÆ’Ã†â€™Ãƒâ€šÃ‚Â¢ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€¦Ã‚Â¡ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¬ÃƒÆ’Ã†â€™ÃƒÂ¢Ã¢â€šÂ¬Ã‚Â¦ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€¦Ã¢â‚¬Å“AÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¢ÃƒÆ’Ã†â€™Ãƒâ€šÃ‚Â¢ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€¦Ã‚Â¡ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¬ start offset")
        )
        (field
            (name WRP1A_END)
            (bit-offset 16)
            (bit-width 8)
            (description "Bank 1 WRP first area A end offset")
        )
    )
    (register
        (name WRP1BR)
        (offset 0x30)
        (size 0x20)
        (access read-write)
        (reset-value 0xff00ff00)
        (description "Flash Bank 1 WRP area B address register")
        (field
            (name WRP1B_STRT)
            (bit-offset 16)
            (bit-width 8)
            (description "Bank 1 WRP second area B end offset")
        )
        (field
            (name WRP1B_END)
            (bit-offset 0)
            (bit-width 8)
            (description "Bank 1 WRP second area B start offset")
        )
    )
    (register
        (name PCROP2SR)
        (offset 0x44)
        (size 0x20)
        (access read-write)
        (reset-value 0xffff0000)
        (description "Flash Bank 2 PCROP Start address register")
        (field
            (name PCROP2_STRT)
            (bit-offset 0)
            (bit-width 16)
            (description "Bank 2 PCROP area start offset")
        )
    )
    (register
        (name PCROP2ER)
        (offset 0x48)
        (size 0x20)
        (access read-write)
        (reset-value 0xffff0000)
        (description "Flash Bank 2 PCROP End address register")
        (field
            (name PCROP2_END)
            (bit-offset 0)
            (bit-width 16)
            (description "Bank 2 PCROP area end offset")
        )
    )
    (register
        (name WRP2AR)
        (offset 0x4c)
        (size 0x20)
        (access read-write)
        (reset-value 0xff00ff00)
        (description "Flash Bank 2 WRP area A address register")
        (field
            (name WRP2A_STRT)
            (bit-offset 0)
            (bit-width 8)
            (description "Bank 2 WRP first area A start offset")
        )
        (field
            (name WRP2A_END)
            (bit-offset 16)
            (bit-width 8)
            (description "Bank 2 WRP first area A end offset")
        )
    )
    (register
        (name WRP2BR)
        (offset 0x50)
        (size 0x20)
        (access read-write)
        (reset-value 0xff00ff00)
        (description "Flash Bank 2 WRP area B address register")
        (field
            (name WRP2B_STRT)
            (bit-offset 0)
            (bit-width 8)
            (description "Bank 2 WRP second area B start offset")
        )
        (field
            (name WRP2B_END)
            (bit-offset 16)
            (bit-width 8)
            (description "Bank 2 WRP second area B end offset")
        )
    )
)