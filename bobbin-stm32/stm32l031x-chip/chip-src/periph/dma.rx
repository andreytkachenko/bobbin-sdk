(peripheral
    (group-name DMA)
    (name DMA1)
    (address 0x40020000)
    (description "Direct memory access controller")
    (interrupt
        (name DMA1_Channel1)
        (value 9)
        (description "DMA1 Channel1 global interrupt")
    )
    (interrupt
        (name DMA1_Channel2_3)
        (value 10)
        (description "DMA1 Channel2 and 3 interrupts")
    )
    (interrupt
        (name DMA1_Channel4_7)
        (value 11)
        (description "DMA1 Channel4 to 7 interrupts")
    )
    (register
        (name ISR)
        (offset 0x0)
        (size 0x20)
        (access read-only)
        (reset-value 0x0)
        (description "interrupt status register")
        (field
            (name TEIF)
            (dim 7)
            (dim-increment 4)
            (bit-offset 3)
            (bit-width 1)
            (description "Channel x transfer error flag (x = 1 ..7)")
        )
        (field
            (name HTIF)
            (dim 7)
            (dim-increment 4)
            (bit-offset 2)
            (bit-width 1)
            (description "Channel x half transfer flag (x = 1 ..7)")
        )
        (field
            (name TCIF)
            (dim 7)
            (dim-increment 4)
            (bit-offset 1)
            (bit-width 1)
            (description "Channel x transfer complete flag (x = 1 ..7)")
        )
        (field
            (name GIF)
            (dim 7)
            (dim-increment 4)
            (bit-offset 0)
            (bit-width 1)
            (description "Channel x global interrupt flag (x = 1 ..7)")
        )
    )
    (register
        (name IFCR)
        (offset 0x4)
        (size 0x20)
        (access write-only)
        (reset-value 0x0)
        (description "interrupt flag clear register")
        (field
            (name CTEIF)
            (dim 7)
            (dim-increment 4)
            (bit-offset 3)
            (bit-width 1)
            (description "Channel x transfer error clear (x = 1 ..7)")
        )
        (field
            (name CHTIF)
            (dim 7)
            (dim-increment 4)
            (bit-offset 2)
            (bit-width 1)
            (description "Channel x half transfer clear (x = 1 ..7)")
        )
        (field
            (name CTCIF)
            (dim 7)
            (dim-increment 4)
            (bit-offset 1)
            (bit-width 1)
            (description "Channel x transfer complete clear (x = 1 ..7)")
        )
        (field
            (name CGIF)
            (dim 7)
            (dim-increment 4)
            (bit-offset 0)
            (bit-width 1)
            (description "Channel x global interrupt clear (x = 1 ..7)")
        )
    )
    (register
        (name CCR)
        (dim 7)
        (dim-increment 0x14)
        (offset 0x8)
        (size 0x20)
        (access read-write)
        (reset-value 0x0)
        (description "channel x configuration register")
        (field
            (name MEM2MEM)
            (bit-offset 14)
            (bit-width 1)
            (description "Memory to memory mode")
        )
        (field
            (name PL)
            (bit-offset 12)
            (bit-width 2)
            (description "Channel priority level")
        )
        (field
            (name MSIZE)
            (bit-offset 10)
            (bit-width 2)
            (description "Memory size")
        )
        (field
            (name PSIZE)
            (bit-offset 8)
            (bit-width 2)
            (description "Peripheral size")
        )
        (field
            (name MINC)
            (bit-offset 7)
            (bit-width 1)
            (description "Memory increment mode")
        )
        (field
            (name PINC)
            (bit-offset 6)
            (bit-width 1)
            (description "Peripheral increment mode")
        )
        (field
            (name CIRC)
            (bit-offset 5)
            (bit-width 1)
            (description "Circular mode")
        )
        (field
            (name DIR)
            (bit-offset 4)
            (bit-width 1)
            (description "Data transfer direction")
        )
        (field
            (name TEIE)
            (bit-offset 3)
            (bit-width 1)
            (description "Transfer error interrupt enable")
        )
        (field
            (name HTIE)
            (bit-offset 2)
            (bit-width 1)
            (description "Half transfer interrupt enable")
        )
        (field
            (name TCIE)
            (bit-offset 1)
            (bit-width 1)
            (description "Transfer complete interrupt enable")
        )
        (field
            (name EN)
            (bit-offset 0)
            (bit-width 1)
            (description "Channel enable")
        )
    )
    (register
        (name CNDTR)
        (dim 7)
        (dim-increment 0x14)
        (offset 0xc)
        (size 0x20)
        (access read-write)
        (reset-value 0x0)
        (description "channel x number of data register")
        (field
            (name NDT)
            (bit-offset 0)
            (bit-width 16)
            (description "Number of data to transfer")
        )
    )
    (register
        (name CPAR)
        (dim 7)
        (dim-increment 0x14)
        (offset 0x10)
        (size 0x20)
        (access read-write)
        (reset-value 0x0)
        (description "channel x peripheral address register")
        (field
            (name PA)
            (bit-offset 0)
            (bit-width 32)
            (description "Peripheral address")
        )
    )
    (register
        (name CMAR)
        (dim 7)
        (dim-increment 0x14)
        (offset 0x14)
        (size 0x20)
        (access read-write)
        (reset-value 0x0)
        (description "channel x memory address register")
        (field
            (name MA)
            (bit-offset 0)
            (bit-width 32)
            (description "Memory address")
        )
    )
    (register
        (name CSELR)
        (offset 0xa8)
        (size 0x20)
        (access read-write)
        (reset-value 0x0)
        (description "channel selection register")
        (field
            (name CS)
            (dim 7)
            (dim-increment 4)
            (bit-offset 0)
            (bit-width 4)
            (description "DMA channel x selection")
        )
    )
)